<div class="dashboard-layout">
  <app-sidebar></app-sidebar>
  <main class="dashboard-main">
    <ng-container *ngIf="vm$ | async as vm">
      <app-dashboard-header></app-dashboard-header>
      <div class="dashboard-grid">
        <app-dashboard-card
          class="performance-card"
          title="Performance"
          [showTabs]="true"
          [tabs]="['Day', 'Week', 'Month']"
          activeTab="Week"
        >
          <app-performance-widget></app-performance-widget>
        </app-dashboard-card>

        <app-dashboard-card class="kpi-card" title="KPIs">
          <app-kpi-tiles-widget></app-kpi-tiles-widget>
        </app-dashboard-card>

        <app-dashboard-card class="bookings-card" title="Bookings by Channel">
          <app-bookings-by-channel-widget></app-bookings-by-channel-widget>
        </app-dashboard-card>
      </div>

      <!-- Temporary: Show JSON data for verification -->
      <!-- <div
        style="
          margin-top: 2rem;
          padding: 1rem;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 0.5rem;
          font-size: 0.75rem;
          font-family: monospace;
        "
      >
        <div><strong>Filters:</strong> {{ vm.filters | json }}</div>
        <div style="margin-top: 0.5rem"><strong>KPIs Status:</strong> {{ vm.kpis.status }}</div>
        <div style="margin-top: 0.5rem">
          <strong>Revenue Status:</strong> {{ vm.revenueOccupancy.status }}
        </div>
        <div style="margin-top: 0.5rem">
          <strong>Bookings Status:</strong> {{ vm.bookingsByChannel.status }}
        </div>
        <pre style="margin-top: 1rem; max-height: 300px; overflow: auto">{{ vm | json }}</pre>
      </div> -->
    </ng-container>
  </main>
</div>
