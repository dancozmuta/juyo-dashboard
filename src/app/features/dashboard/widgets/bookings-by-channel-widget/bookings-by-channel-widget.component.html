<ng-container *ngIf="data$ | async as state">
  <ng-container *ngIf="filters$ | async as filters">
    <app-widget-state
      [state]="state"
      emptyMessage="No bookings data available for the selected range"
      [context]="state.status === 'success' ? getContextString(state.data, filters) : ''"
      (retry)="onRetry()"
    >
      @if (state.status === 'success') {
      <div #chartRoot class="chart-container"></div>
      }
    </app-widget-state>
  </ng-container>
</ng-container>
