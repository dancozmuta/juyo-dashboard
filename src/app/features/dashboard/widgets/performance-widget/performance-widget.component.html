<ng-container *ngIf="data$ | async as state">
  @if (state.status === 'loading') {
    <div class="chart-loading">
      <div class="spinner"></div>
      <p>Loading chart data...</p>
    </div>
  } @else if (state.status === 'error') {
    <div class="chart-error">
      <p>Error: {{ state.error }}</p>
    </div>
  } @else if (state.status === 'success' && state.data.data.length === 0) {
    <div class="chart-empty">
      <p>No data available for the selected range</p>
    </div>
  } @else if (state.status === 'success') {
    <div #chartRoot class="chart-container"></div>
  }
</ng-container>
